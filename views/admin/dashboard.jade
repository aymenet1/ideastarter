doctype html
html(lang='en')
  head
    meta(charset='utf-8')
    meta(http-equiv='X-UA-Compatible', content='IE=edge')
    meta(name='viewport', content='width=device-width, initial-scale=1')
    meta(name='description', content='')
    meta(name='author', content='')
    title Idea starter Admin 
    // Bootstrap Core CSS
    link(href='../vendor/bootstrap/css/bootstrap.min.css', rel='stylesheet')
    // MetisMenu CSS
    link(href='../vendor/metisMenu/metisMenu.min.css', rel='stylesheet')
    // DataTables CSS
    link(href='../vendor/datatables-plugins/dataTables.bootstrap.css', rel='stylesheet')
    // DataTables Responsive CSS
    link(href='../vendor/datatables-responsive/dataTables.responsive.css', rel='stylesheet')
    // Custom CSS
    link(href='../dist/css/sb-admin-2.css', rel='stylesheet')
    // Custom Fonts
    link(href='../vendor/font-awesome/css/font-awesome.min.css', rel='stylesheet', type='text/css')
    // HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries
    // WARNING: Respond.js doesn't work if you view the page via file://
    //if lt IE 9
      script(src='https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js')
      script(src='https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js')
  body
    #wrapper
      // Navigation
      nav.navbar.navbar-default.navbar-static-top(role='navigation', style='margin-bottom: 0')
        .navbar-header
          button.navbar-toggle(type='button', data-toggle='collapse', data-target='.navbar-collapse')
            span.sr-only Toggle navigation
            span.icon-bar
            span.icon-bar
            span.icon-bar
          a.navbar-brand(href='index.html') SB Admin v2.0
        // /.navbar-header
        ul.nav.navbar-top-links.navbar-right
          li.dropdown
            a.dropdown-toggle(data-toggle='dropdown', href='#')
              i.fa.fa-envelope.fa-fw
              i.fa.fa-caret-down
            ul.dropdown-menu.dropdown-messages
              li
                a(href='#')
                  div
                    strong John Smith
                    span.pull-right.text-muted
                      em Yesterday
                  div
                    | Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque eleifend...
              li.divider
              li
                a(href='#')
                  div
                    strong John Smith
                    span.pull-right.text-muted
                      em Yesterday
                  div
                    | Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque eleifend...
              li.divider
              li
                a(href='#')
                  div
                    strong John Smith
                    span.pull-right.text-muted
                      em Yesterday
                  div
                    | Lorem ipsum dolor sit amet, consectetur adipiscing elit. Pellentesque eleifend...
              li.divider
              li
                a.text-center(href='#')
                  strong Read All Messages
                  i.fa.fa-angle-right
            // /.dropdown-messages
          // /.dropdown
          li.dropdown
            a.dropdown-toggle(data-toggle='dropdown', href='#')
              i.fa.fa-tasks.fa-fw
              i.fa.fa-caret-down
            ul.dropdown-menu.dropdown-tasks
              li
                a(href='#')
                  div
                    p
                      strong Task 1
                      span.pull-right.text-muted 40% Complete
                    .progress.progress-striped.active
                      .progress-bar.progress-bar-success(role='progressbar', aria-valuenow='40', aria-valuemin='0', aria-valuemax='100', style='width: 40%')
                        span.sr-only 40% Complete (success)
              li.divider
              li
                a(href='#')
                  div
                    p
                      strong Task 2
                      span.pull-right.text-muted 20% Complete
                    .progress.progress-striped.active
                      .progress-bar.progress-bar-info(role='progressbar', aria-valuenow='20', aria-valuemin='0', aria-valuemax='100', style='width: 20%')
                        span.sr-only 20% Complete
              li.divider
              li
                a(href='#')
                  div
                    p
                      strong Task 3
                      span.pull-right.text-muted 60% Complete
                    .progress.progress-striped.active
                      .progress-bar.progress-bar-warning(role='progressbar', aria-valuenow='60', aria-valuemin='0', aria-valuemax='100', style='width: 60%')
                        span.sr-only 60% Complete (warning)
              li.divider
              li
                a(href='#')
                  div
                    p
                      strong Task 4
                      span.pull-right.text-muted 80% Complete
                    .progress.progress-striped.active
                      .progress-bar.progress-bar-danger(role='progressbar', aria-valuenow='80', aria-valuemin='0', aria-valuemax='100', style='width: 80%')
                        span.sr-only 80% Complete (danger)
              li.divider
              li
                a.text-center(href='#')
                  strong See All Tasks
                  i.fa.fa-angle-right
            // /.dropdown-tasks
          // /.dropdown
          li.dropdown
            a.dropdown-toggle(data-toggle='dropdown', href='#')
              i.fa.fa-bell.fa-fw
              i.fa.fa-caret-down
            ul.dropdown-menu.dropdown-alerts
              li
                a(href='#')
                  div
                    i.fa.fa-comment.fa-fw
                    |  New Comment
                    span.pull-right.text-muted.small 4 minutes ago
              li.divider
              li
                a(href='#')
                  div
                    i.fa.fa-twitter.fa-fw
                    |  3 New Followers
                    span.pull-right.text-muted.small 12 minutes ago
              li.divider
              li
                a(href='#')
                  div
                    i.fa.fa-envelope.fa-fw
                    |  Message Sent
                    span.pull-right.text-muted.small 4 minutes ago
              li.divider
              li
                a(href='#')
                  div
                    i.fa.fa-tasks.fa-fw
                    |  New Task
                    span.pull-right.text-muted.small 4 minutes ago
              li.divider
              li
                a(href='#')
                  div
                    i.fa.fa-upload.fa-fw
                    |  Server Rebooted
                    span.pull-right.text-muted.small 4 minutes ago
              li.divider
              li
                a.text-center(href='#')
                  strong See All Alerts
                  i.fa.fa-angle-right
            // /.dropdown-alerts
          // /.dropdown
          li.dropdown
            a.dropdown-toggle(data-toggle='dropdown', href='#')
              i.fa.fa-user.fa-fw
              i.fa.fa-caret-down
            ul.dropdown-menu.dropdown-user
              li
                a(href='#')
                  i.fa.fa-user.fa-fw
                  |  User Profile
              li
                a(href='#')
                  i.fa.fa-gear.fa-fw
                  |  Settings
              li.divider
              li
                a(href='login.html')
                  i.fa.fa-sign-out.fa-fw
                  |  Logout
            // /.dropdown-user
          // /.dropdown
        // /.navbar-top-links
        .navbar-default.sidebar(role='navigation')
          .sidebar-nav.navbar-collapse
            ul#side-menu.nav
              li.sidebar-search
                .input-group.custom-search-form
                  input.form-control(type='text', placeholder='Search...')
                  span.input-group-btn
                    button.btn.btn-default(type='button')
                      i.fa.fa-search
                // /input-group
              li
                a(href='admin/admin')
                  i.fa.fa-dashboard.fa-fw
                  |  Utilisateur
          // /.sidebar-collapse
        // /.navbar-static-side
      #page-wrapper
        .row
          .col-lg-12
            h1.page-header Utilisateurs
          // /.col-lg-12
        // /.row
        .row
          .col-lg-12
            .panel.panel-default
              .panel-heading
                | Liste des Utilisateurs
              // /.panel-heading
              .panel-body
                table#dataTables-example.table.table-striped.table-bordered.table-hover(width='100%')
                  thead
                    tr
                      th Nom
                      th Prenom
                      th Email
                      th Type
                      th Etat
                      th Action
                  tbody
                    for utilisateur in Utilisateurs
                      tr.odd.gradeX
                        td #{utilisateur.nom}
                        td #{utilisateur.prenom}
                        td #{utilisateur.email}
                        td.center #{utilisateur.type}
                        td.center #{utilisateur.Etat}
                        td.center 
                          .btn-group
                             button.btn.btn-info.dropdown-toggle(type='button', data-toggle='dropdown', aria-haspopup='true', aria-expanded='false')
                               | Action
                             .dropdown-menu
                               a.dropdown-item(href='/user?id=#{utilisateur.id}') Consulter
                               br
                               a.dropdown-item(href='javascript:confirmDelete("/deletuser?id=#{utilisateur.id}")') Supprimer
                               br
                               case utilisateur.Etat
                                 when "Active"
                                   a.dropdown-item(href='admin/updateuser?id=#{utilisateur.id}&etat=Bloque') Bloquer
                                 when "En attente"
                                   a.dropdown-item(href='admin/updateuser?id=#{utilisateur.id}&etat=Active') Active
                                   br
                                   a.dropdown-item(href='admin/updateuser?id=#{utilisateur.id}&etat=Bloque') Bloquer
                                 when "Bloque"
                                   a.dropdown-item(href='admin/updateuser?id=#{utilisateur.id}&etat=Active') Activer
                                 default
                                   a.dropdown-item(href='#') ne rien faire
                // /.table-responsive
    script(src='../vendor/jquery/jquery.min.js')
    // Bootstrap Core JavaScript
    script(src='../vendor/bootstrap/js/bootstrap.min.js')
    // Metis Menu Plugin JavaScript
    script(src='../vendor/metisMenu/metisMenu.min.js')
    // DataTables JavaScript
    script(src='../vendor/datatables/js/jquery.dataTables.min.js')
    script(src='../vendor/datatables-plugins/dataTables.bootstrap.min.js')
    script(src='../vendor/datatables-responsive/dataTables.responsive.js')
    // Custom Theme JavaScript
    script(src='../dist/js/sb-admin-2.js')
    // Page-Level Demo Scripts - Tables - Use for reference
    script.
      $(document).ready(function() {
      $('#dataTables-example').DataTable({
      responsive: true
      });
      });
    script.
        function confirmDelete(delUrl) {
         if (confirm("Etes-vous sur de vouloir supprimer ce utilisateur")) {
          document.location = delUrl;
          }
        }
